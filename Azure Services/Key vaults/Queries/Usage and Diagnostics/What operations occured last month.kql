// Author: Mark Dalton Gray
// Display name: What operations occured last month?
// Description: List of operation names from the last 30 days.
// Categories: Security
// Resource types: Key vaults
// Topic: Usage and Diagnostics

AzureDiagnostics
| where TimeGenerated > ago(30d)
| where ResourceProvider == "MICROSOFT.KEYVAULT"
| distinct OperationName